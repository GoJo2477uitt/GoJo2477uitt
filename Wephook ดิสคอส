import requests
from datetime import datetime, timezone, timedelta

# https://discord.com/api/webhooks/1449652777604087889/YtWq96AKQnY6fAvN-PkAwTke3NMy-Vd7ufGOLwCKZR1XgUDqCDOFAFTu5QLDI-SYXoIk
# ‡∏î‡∏¥‡∏™‡∏£‡∏ß‡∏°‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô ^^
# https://discord.com/api/webhooks/1449625220032757820/uK9tw8P0xeKFFliLxctYufx0VXAblzNN4wSDR0W982s5-5JWIGYeTuxxcfxGKZwZhwiO
# ‡∏î‡∏¥‡∏™‡∏£‡∏≠‡∏á
# =====Webhook main=====
WEBHOOK_URL = "https://discord.com/api/webhooks/1449652777604087889/YtWq96AKQnY6fAvN-PkAwTke3NMy-Vd7ufGOLwCKZR1XgUDqCDOFAFTu5QLDI-SYXoIk"

def send_webhook(msg, color=15158332):
    thai_time = datetime.now(timezone(timedelta(hours=7)))

    data = {
        "username": "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ôüì¢üö®",
        "avatar_url": "https://cdn.discordapp.com/emojis/1449675747231924305.webp?size=96",

        "content": f"@everyone üì¢ {msg}",
        "allowed_mentions": {
            "parse": ["everyone"]
        },

        "embeds": [
            {
                "title": "üö® Admin Notification",
                "description": "ALL everyone",
                "color": color,

                "fields": [
                    {
                        "name": "üìù ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°",
                        "value": "```‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡πÑ‡∏≠‡∏û‡∏ß‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏•‡∏≤‡∏¢ ‡∏Å‡∏π‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏Æ‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πåüòàüòà```",
                        "inline": False
                    },
                    {
                        "name": "‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤ (‡πÑ‡∏ó‡∏¢)",
                        "value": f"```{thai_time.strftime('%d/%m/%Y %H:%M:%S')}```",
                        "inline": True
                    },
                    {
                        "name": "üíª ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤",
                        "value": "```Admin Python```",
                        "inline": True
                    }
                ],

                "image": {
                    "url": "https://cdn.discordapp.com/attachments/1449624300280610849/1449730974345723956/image0.githumbnail          },

                "thumbnail": {
                    "url": "https://cdn.discordapp.com/emojis/1449732592965255268.webp?size=128"
                },

                "footer": {
                    "text": "Powered by Admin",
                    "icon_url": "https://cdn.discordapp.com/emojis/1449675747231924305.webp?size=96"
                },

                # ‚è±Ô∏è timestamp ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢
                "timestamp": thai_time.isoformat()
            }
        ]
    }

    r = requests.post(WEBHOOK_URL, json=data)
    print("‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß:", r.status_code)


# ===== RUN =====
send_webhook("‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏°‡∏≤‡∏î‡∏π‡πÄ‡∏£‡πá‡∏ß‡πÜ ü§ë")
